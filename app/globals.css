@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --bg: #040804;
  --panel: #09140b;
  --panel-soft: #0b1910;
  --text: #d9f7d8;
  --txt: #d9f7d8;
  --muted: #81a78a;
  --green: #73ffa1;
  --green2: #2edb61;
  --border: #1a3d26;
}

* {
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  min-height: 100%;
}

body {
  color: var(--text);
  background:
    radial-gradient(circle at 12% 10%, rgb(115 255 161 / 0.14), transparent 34%),
    radial-gradient(circle at 90% 22%, rgb(46 219 97 / 0.12), transparent 34%),
    linear-gradient(180deg, #020502 0%, #030803 40%, #040804 100%);
  font-family: 'JetBrains Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New',
    monospace;
}

.vignette {
  position: fixed;
  inset: 0;
  background: radial-gradient(circle, transparent 56%, rgb(0 0 0 / 0.45) 100%);
  z-index: 0;
}

.scanlines::after {
  content: '';
  pointer-events: none;
  position: fixed;
  inset: 0;
  z-index: 1;
  background: repeating-linear-gradient(
    to bottom,
    rgb(255 255 255 / 0.02) 0,
    rgb(255 255 255 / 0.02) 1px,
    transparent 1px,
    transparent 3px
  );
}

@layer components {
  .terminal-frame {
    position: relative;
    z-index: 2;
    border: 1px solid rgb(115 255 161 / 0.38);
    border-radius: 24px;
    background: linear-gradient(180deg, rgb(8 16 10 / 0.82), rgb(7 14 9 / 0.94));
    box-shadow: 0 0 0 1px rgb(46 219 97 / 0.3) inset, 0 0 36px rgb(46 219 97 / 0.18), 0 20px 40px rgb(0 0 0 / 0.46);
  }

  .panel {
    border: 1px solid var(--border);
    border-radius: 16px;
    background: linear-gradient(180deg, rgb(10 20 12 / 0.82), rgb(7 14 9 / 0.95));
  }

  .glow {
    box-shadow: 0 0 0 1px rgb(115 255 161 / 0.24) inset, 0 0 22px rgb(46 219 97 / 0.24);
  }

  .cmd {
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 0.5rem 0.8rem;
    color: var(--text);
    background: rgb(10 20 12 / 0.95);
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    transition: transform 140ms ease, box-shadow 140ms ease, border-color 140ms ease;
  }

  .cmd::before {
    content: '>';
    color: var(--green);
  }

  .cmd:hover {
    transform: translateY(1px);
    border-color: rgb(115 255 161 / 0.56);
    box-shadow: 0 0 18px rgb(46 219 97 / 0.2);
  }

  .cmd:focus-visible,
  .row-trigger:focus-visible {
    outline: 2px solid var(--green);
    outline-offset: 2px;
  }

  .chip {
    display: inline-flex;
    align-items: center;
    border: 1px solid var(--border);
    border-radius: 999px;
    padding: 0.25rem 0.7rem;
    color: var(--text);
    font-size: 0.75rem;
    background: rgb(46 219 97 / 0.14);
  }

  .cursor-block {
    animation: blink 1s step-end infinite;
  }

  .reveal {
    opacity: 0;
    transform: translateY(12px);
    transition: opacity 320ms ease, transform 320ms ease;
  }

  .reveal.is-visible {
    opacity: 1;
    transform: translateY(0);
  }

  .row-trigger {
    border: 1px solid var(--border);
    border-radius: 10px;
    background: rgb(9 19 12 / 0.72);
    padding: 0.65rem;
    transition: border-color 140ms ease, box-shadow 140ms ease;
  }

  .row-trigger:hover {
    border-color: rgb(115 255 161 / 0.4);
    box-shadow: 0 0 16px rgb(46 219 97 / 0.16);
  }

  .log-line {
    animation: logline 220ms ease;
  }

  .glow-flicker {
    animation: glowFlicker 4s linear infinite;
  }
}

@keyframes blink {
  50% {
    opacity: 0;
  }
}

@keyframes glowFlicker {
  0%,
  100% {
    filter: brightness(1);
  }
  49% {
    filter: brightness(0.97);
  }
  50% {
    filter: brightness(1.02);
  }
}

@keyframes logline {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@media (prefers-reduced-motion: reduce) {
  .scanlines::after,
  .cursor-block,
  .reveal,
  .glow-flicker,
  .log-line {
    animation: none !important;
    transition: none !important;
    opacity: 1;
    transform: none;
  }
}
